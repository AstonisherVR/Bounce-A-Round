[gd_scene load_steps=32 format=3 uid="uid://doku0loaauhmm"]

[ext_resource type="Script" path="res://game.gd" id="1_hadr0"]
[ext_resource type="PackedScene" uid="uid://bxibk75h3g5x3" path="res://Ball/ball.tscn" id="2_5m8lq"]
[ext_resource type="PackedScene" uid="uid://bsiemt4atgc2s" path="res://Walls/wall_down.tscn" id="3_jsd5f"]
[ext_resource type="PackedScene" uid="uid://cpcwgrcxxsrvv" path="res://Walls/wall_up.tscn" id="4_gblor"]
[ext_resource type="Shader" path="res://game_color_rect.gdshader" id="4_sowci"]
[ext_resource type="PackedScene" uid="uid://dq5lgx3emoax0" path="res://bounds_left.tscn" id="5_rxelv"]
[ext_resource type="PackedScene" uid="uid://cbmmce8uawk1n" path="res://bounds_right.tscn" id="6_6v20j"]
[ext_resource type="Texture2D" uid="uid://c6uv5me287frw" path="res://Sprites/Wall.png" id="6_7ykt4"]
[ext_resource type="PackedScene" uid="uid://cq83tyx3fi3gd" path="res://Players/player_1.tscn" id="7_cu7us"]
[ext_resource type="PackedScene" uid="uid://b43rkdvatrfty" path="res://Players/player_2.tscn" id="8_ja70f"]
[ext_resource type="PackedScene" uid="uid://lifj1p1t035t" path="res://countdown_timer.tscn" id="10_jahb4"]
[ext_resource type="PackedScene" uid="uid://dua4icc2b3ldh" path="res://UI/Menus/pause_menu.tscn" id="10_tbhm6"]
[ext_resource type="Script" path="res://game_camera.gd" id="11_gshf3"]
[ext_resource type="PackedScene" uid="uid://bwk4b1tk1bgle" path="res://UI/score.tscn" id="12_mr2rh"]
[ext_resource type="PackedScene" uid="uid://c786uankenrtg" path="res://backgrounds.tscn" id="13_1fwls"]

[sub_resource type="AtlasTexture" id="AtlasTexture_s2vrw"]
atlas = ExtResource("6_7ykt4")
region = Rect2(0, 0, 1920, 95)

[sub_resource type="AtlasTexture" id="AtlasTexture_dykkf"]
atlas = ExtResource("6_7ykt4")
region = Rect2(1920, 0, 1920, 95)

[sub_resource type="AtlasTexture" id="AtlasTexture_jb12v"]
atlas = ExtResource("6_7ykt4")
region = Rect2(3840, 0, 1920, 95)

[sub_resource type="AtlasTexture" id="AtlasTexture_ekekc"]
atlas = ExtResource("6_7ykt4")
region = Rect2(5760, 0, 1920, 95)

[sub_resource type="AtlasTexture" id="AtlasTexture_waiim"]
atlas = ExtResource("6_7ykt4")
region = Rect2(7680, 0, 1920, 95)

[sub_resource type="AtlasTexture" id="AtlasTexture_jtouj"]
atlas = ExtResource("6_7ykt4")
region = Rect2(9600, 0, 1920, 95)

[sub_resource type="AtlasTexture" id="AtlasTexture_vqsd1"]
atlas = ExtResource("6_7ykt4")
region = Rect2(11520, 0, 1920, 95)

[sub_resource type="AtlasTexture" id="AtlasTexture_bthji"]
atlas = ExtResource("6_7ykt4")
region = Rect2(13440, 0, 1920, 95)

[sub_resource type="AtlasTexture" id="AtlasTexture_ell2y"]
atlas = ExtResource("6_7ykt4")
region = Rect2(15360, 0, 1920, 95)

[sub_resource type="AtlasTexture" id="AtlasTexture_8hfbh"]
atlas = ExtResource("6_7ykt4")
region = Rect2(17280, 0, 1920, 95)

[sub_resource type="AtlasTexture" id="AtlasTexture_om8ys"]
atlas = ExtResource("6_7ykt4")
region = Rect2(19200, 0, 1920, 95)

[sub_resource type="AtlasTexture" id="AtlasTexture_0x6ju"]
atlas = ExtResource("6_7ykt4")
region = Rect2(21120, 0, 1920, 95)

[sub_resource type="SpriteFrames" id="SpriteFrames_gs031"]
resource_local_to_scene = true
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_s2vrw")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_dykkf")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_jb12v")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ekekc")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_waiim")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_jtouj")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_vqsd1")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_bthji")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ell2y")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_8hfbh")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_om8ys")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_0x6ju")
}],
"loop": true,
"name": &"Idle Wall",
"speed": 12.0
}]

[sub_resource type="SpriteFrames" id="SpriteFrames_8s556"]
resource_local_to_scene = true
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_s2vrw")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_dykkf")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_jb12v")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ekekc")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_waiim")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_jtouj")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_vqsd1")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_bthji")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ell2y")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_8hfbh")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_om8ys")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_0x6ju")
}],
"loop": true,
"name": &"Idle Wall",
"speed": 12.0
}]

[sub_resource type="LabelSettings" id="LabelSettings_foto7"]
line_spacing = 6.0
font_size = 100
font_color = Color(0.768627, 0.803922, 1, 1)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_tbn5j"]
shader = ExtResource("4_sowci")
shader_parameter/fisheye_strength = 1.0

[node name="Game" type="Node2D" node_paths=PackedStringArray("player_1", "player_2", "ball", "pause_menu", "countdown_timer_label", "game_camera", "animated_game_background", "random_specials_timer", "ball_spawner_timer")]
texture_filter = 1
script = ExtResource("1_hadr0")
player_1 = NodePath("Player 1")
player_2 = NodePath("Player 2")
ball = NodePath("Ball")
pause_menu = NodePath("Pause Menu Canvas/Pause Menu")
countdown_timer_label = NodePath("Countdown Timer/Label")
game_camera = NodePath("Game Camera")
animated_game_background = NodePath("Backgrounds/Animated Game Background")
random_specials_timer = NodePath("Random Specials Timer")
ball_spawner_timer = NodePath("Ball Spawner Timer")
metadata/_edit_lock_ = true

[node name="Player 1" parent="." instance=ExtResource("7_cu7us")]
position = Vector2(-868, 3)

[node name="Knock Back Timer" parent="Player 1" index="2"]
wait_time = 0.25

[node name="Player 2" parent="." instance=ExtResource("8_ja70f")]
position = Vector2(863, -9)

[node name="Ball" parent="." groups=["Ball"] instance=ExtResource("2_5m8lq")]

[node name="Wall Up" parent="." groups=["Walls"] instance=ExtResource("4_gblor")]
position = Vector2(0, -554)

[node name="AnimatedSprite2D" parent="Wall Up" index="1"]
sprite_frames = SubResource("SpriteFrames_gs031")
frame = 0
frame_progress = 0.0

[node name="Wall Down" parent="." groups=["Walls"] instance=ExtResource("3_jsd5f")]
position = Vector2(0, 554)

[node name="AnimatedSprite2D" parent="Wall Down" index="1"]
sprite_frames = SubResource("SpriteFrames_8s556")
frame_progress = 0.0

[node name="Bounds Left" parent="." node_paths=PackedStringArray("player_2_score_label") instance=ExtResource("5_rxelv")]
position = Vector2(-968, 0)
player_2_score_label = NodePath("../Score/HBoxContainer/CenterContainer2/Player 2 Score")

[node name="Bounds Right" parent="." node_paths=PackedStringArray("player_1_score_label") instance=ExtResource("6_6v20j")]
position = Vector2(968, 0)
player_1_score_label = NodePath("../Score/HBoxContainer/CenterContainer/Player 1 Score")

[node name="Countdown Timer" parent="." instance=ExtResource("10_jahb4")]
offset_top = -505.0
offset_bottom = -505.0

[node name="Label" parent="Countdown Timer" index="1"]
label_settings = SubResource("LabelSettings_foto7")

[node name="Score" parent="." instance=ExtResource("12_mr2rh")]
offset_left = -960.0
offset_top = -540.0
offset_right = 960.0
offset_bottom = 540.0

[node name="Backgrounds" parent="." instance=ExtResource("13_1fwls")]
layer = -3

[node name="Animated Game Background" parent="Backgrounds" index="0"]
z_index = -3

[node name="Pause Menu Canvas" type="CanvasLayer" parent="."]
layer = 3
follow_viewport_enabled = true

[node name="Pause Menu" parent="Pause Menu Canvas" instance=ExtResource("10_tbhm6")]
anchors_preset = -1
anchor_left = -0.5
anchor_top = -0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = 960.0
offset_top = 540.0
offset_right = -960.0
offset_bottom = -540.0
grow_horizontal = 1
grow_vertical = 1

[node name="Game Camera" type="Camera2D" parent="."]
script = ExtResource("11_gshf3")

[node name="CRT Fish Eye Lens" type="ColorRect" parent="."]
material = SubResource("ShaderMaterial_tbn5j")
anchors_preset = 10
anchor_right = 1.0
offset_left = -1218.0
offset_top = -711.0
offset_right = 1225.0
offset_bottom = 713.0
grow_horizontal = 2
mouse_filter = 2
color = Color(1, 1, 1, 0)
metadata/_edit_lock_ = true

[node name="Random Specials Timer" type="Timer" parent="."]
process_callback = 0

[node name="Ball Spawner Timer" type="Timer" parent="."]
process_callback = 0
wait_time = 0.45
one_shot = true

[connection signal="body_entered" from="Bounds Left" to="." method="_on_bounds_left_body_entered"]
[connection signal="body_entered" from="Bounds Right" to="." method="_on_bounds_right_body_entered"]
[connection signal="timeout" from="Random Specials Timer" to="." method="_on_random_specials_timer_timeout"]
[connection signal="timeout" from="Ball Spawner Timer" to="." method="_on_ball_spawner_timer_timeout"]

[editable path="Player 1"]
[editable path="Player 2"]
[editable path="Wall Up"]
[editable path="Wall Down"]
[editable path="Countdown Timer"]
[editable path="Score"]
[editable path="Backgrounds"]
[editable path="Pause Menu Canvas/Pause Menu"]
